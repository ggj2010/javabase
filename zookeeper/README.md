# zk记录

## distributedtask

    分布式定时任务一般有两种思路，中心化和去中心化
    distributedtask的设计就是去中心化的，基于zk的选举和当前机器负载决定最终执行任务的机器
    task执行的参数，初始化时候以本地代码配置为准，后期以zk里面的配置值为准。
### 如果停机的时候,有执行中的任务怎么办
    我们可以增加一个shutdownhook
    1、不参与选举了，不执行新的任务
    2、等待所有任务执行完成或者等待指定的时间，防止某些任务假死
    3、remove zk的临时节点
### 如果某个任务执行超时了，需要监控报警


### 管理中心
    1、



